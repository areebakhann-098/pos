<div class="relative">
  <!-- Calculator Icon Button -->
  <button
    (click)="toggleCalculator()"
    class="text-white bg-amber-500  hover:bg-amber-300 focus:ring-4 focus:ring-white font-medium rounded-lg text-sm px-1 py-1 focus:outline-none dark:bg-green-700 dark:hover:bg-green-800 dark:focus:ring-green-900">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M9 3h6a2 2 0 012 2v14a2 2 0 01-2 2H9a2 2 0 01-2-2V5a2 2 0 012-2zM9 7h6M9 11h6M9 15h2" />
    </svg>
  </button>

  <!-- Calculator Dropdown -->
  <div *ngIf="showCalculator"
    class="absolute right-0 mt-2 z-50 w-64 p-4 bg-white rounded-lg shadow-lg">
    <h3 class="font-semibold text-gray-700 mb-2">Calculator</h3>

    <!-- Display -->
    <input type="text" [(ngModel)]="display"
      class="w-full mb-3 p-2 text-right rounded bg-gray-200 text-gray-800" disabled />

    <!-- Buttons -->
    <div class="grid grid-cols-4 gap-2">
      <button (click)="clearAll()" class="bg-red-600 text-white p-2 rounded">AC</button>
      <button (click)="clearEntry()" class="bg-orange-500 text-white p-2 rounded">CE</button>
      <button (click)="append('%')" class="bg-gray-300 p-2 rounded">%</button>
      <button (click)="append('/')" class="bg-gray-300 p-2 rounded">รท</button>

      <button *ngFor="let n of ['7','8','9']" (click)="append(n)" class="bg-gray-100 p-2 rounded">{{n}}</button>
      <button (click)="append('*')" class="bg-gray-300 p-2 rounded">ร</button>

      <button *ngFor="let n of ['4','5','6']" (click)="append(n)" class="bg-gray-100 p-2 rounded">{{n}}</button>
      <button (click)="append('-')" class="bg-gray-300 p-2 rounded">-</button>

      <button *ngFor="let n of ['1','2','3']" (click)="append(n)" class="bg-gray-100 p-2 rounded">{{n}}</button>
      <button (click)="append('+')" class="bg-gray-300 p-2 rounded">+</button>

      <button (click)="append('0')" class="bg-gray-100 p-2 rounded col-span-2">0</button>
      <button (click)="append('.')" class="bg-gray-100 p-2 rounded">.</button>
      <button (click)="calculate()" class="bg-green-600 text-white p-2 rounded">=</button>
    </div>
  </div>
</div>
