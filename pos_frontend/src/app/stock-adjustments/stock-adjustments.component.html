<div class="max-w-6xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Stock Adjustment</h2>

  <form [formGroup]="stockForm" (ngSubmit)="onSubmit()" class="space-y-6">

    <!-- Business Location -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Business Location</label>
      <select formControlName="businessLocation" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500">
        <option value="">Select Location</option>
        <option value="location1">Location 1</option>
        <option value="location2">Location 2</option>
      </select>
    </div>

    <!-- Reference Number -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Reference No</label>
      <input formControlName="refNo" type="text" placeholder="Enter reference number" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500" />
    </div>

    <!-- Date -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Date</label>
      <input formControlName="adjustmentDate" type="date" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500" />
    </div>

    <!-- Adjustment Type -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Adjustment Type</label>
      <select formControlName="adjustmentType" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500">
        <option value="">Select Type</option>
        <option value="increase">Increase</option>
        <option value="decrease">Decrease</option>
      </select>
    </div>

    <!-- Product Table -->
    <div class="overflow-x-auto mt-4">
      <table class="min-w-full border border-gray-200 rounded">
        <thead class="bg-green-600 text-white">
          <tr>
            <th class="px-2 py-2">#</th>
            <th class="px-2 py-2">Product Name</th>
            <th class="px-2 py-2">Quantity</th>
            <th class="px-2 py-2">Unit Cost</th>
            <th class="px-2 py-2">Line Total</th>
            <th class="px-2 py-2">Actions</th>
          </tr>
        </thead>
        <tbody formArrayName="products">
          <tr *ngFor="let product of products.controls; let i = index" [formGroupName]="i" class="border-b">
            <td class="px-2 py-2">{{ i + 1 }}</td>
            <td class="px-2 py-2"><input formControlName="productName" type="text" placeholder="Product" class="w-full p-1 border rounded" /></td>
            <td class="px-2 py-2"><input formControlName="quantity" type="number" class="w-full p-1 border rounded" /></td>
            <td class="px-2 py-2"><input formControlName="unitCost" type="number" class="w-full p-1 border rounded" /></td>
            <td class="px-2 py-2"><input formControlName="lineTotal" type="number"  class="w-full p-1 border rounded bg-gray-100" /></td>
            <td class="px-2 py-2 text-center">
              <button type="button" (click)="removeProduct(i)" class="text-red-600 hover:text-red-800">X</button>
            </td>
          </tr>
        </tbody>
      </table>
      <button type="button" (click)="addProduct()" class="mt-2 bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">+ Add Row</button>
    </div>

    <!-- Total Amount Recovered -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Total Amount Recovered</label>
      <input formControlName="totalRecovered" type="number" readonly class="w-full p-2 border rounded bg-gray-100" />
    </div>

    <!-- Reason -->
    <div>
      <label class="block mb-2 font-medium text-gray-700">Reason</label>
      <textarea formControlName="reason" rows="3" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500" placeholder="Enter reason for adjustment"></textarea>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="w-full bg-green-600 text-white font-medium py-2 rounded hover:bg-green-700 transition duration-200">Save Stock Adjustment</button>
  </form>
</div>
